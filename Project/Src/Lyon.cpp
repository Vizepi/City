#include <Setting.h>
#include <Random.h>
#include <Quad.h>
#include <Object.h>

#include <iostream>

void Lyon()
{
	/*
	4591 803 500
	3496 1583 550
	2744 2712 1000
	2282 4575 750
	1068 5657 550
	5145 5250 2000
	5039 8032 1200
	8153 6717 1350
	*/
	Setting::InfluencePointsCount = 8;

	Setting::InfluencePoints[0] = {
		{ { 20.0, 35.0 },{ 5.0, 25.0 },{ 100.0, 200.0 }, 100.0, 0.01, 5.1, 0.1 },
		{ { 15.0, 20.0 },{ 5.0, 15.0 },{ 40.0, 120.0 }, 50.0, 0.001, 4.8, 0.05 },
		Vector2(4591.0, 10000.0 - 803.0),
		700.0 };
	Setting::InfluencePoints[1] = {
		{ { 25.0, 40.0 },{ 15.0, 40.0 },{ 140.0, 300.0 }, 150.0, 0.02, 5.1, 0.1 },
		{ { 15.0, 20.0 },{ 5.0, 20.0 },{ 60.0, 160.0 }, 50.0, 0.001, 4.8, 0.05 },
		Vector2(3496.0, 10000.0 - 1583.0),
		750.0 };
	Setting::InfluencePoints[2] = {
		{ { 40.0, 55.0 },{ 30.0, 50.0 },{ 160.0, 400.0 }, 200.0, 0.05, 5.1, 0.1 },
		{ { 15.0, 25.0 },{ 15.0, 20.0 },{ 80.0, 200.0 }, 55.0, 0.005, 4.8, 0.05 },
		Vector2(2744.0, 10000.0 - 2712.0),
		1200.0 };
	Setting::InfluencePoints[3] = {
		{ { 25.0, 50.0 },{ 15.0, 35.0 },{ 100.0, 350.0 }, 100.0, 0.03, 5.1, 0.1 },
		{ { 10.0, 25.0 },{ 10.0, 20.0 },{ 80.0, 160.0 }, 40.0, 0.002, 4.8, 0.05 },
		Vector2(2282.0, 10000.0 - 4575.0),
		950.0 };
	Setting::InfluencePoints[4] = {
		{ { 20.0, 35.0 },{ 20.0, 30.0 },{ 100.0, 175.0 }, 100.0, 0.01, 5.1, 0.1 },
		{ { 15.0, 25.0 },{ 10.0, 20.0 },{ 60.0, 100.0 }, 30.0, 0.005, 4.8, 0.05 },
		Vector2(1068.0, 10000.0 - 5657.0),
		750.0 };
	Setting::InfluencePoints[5] = {
		{ { 30.0, 60.0 },{ 30.0, 80.0 },{ 250.0, 450.0 }, 300.0, 0.1, 5.1, 0.1 },
		{ { 20.0, 35.0 },{ 10.0, 50.0 },{ 60.0, 100.0 }, 60.0, 0.05, 4.8, 0.05 },
		Vector2(5145.0, 10000.0 - 5250.0),
		2200.0 };
	Setting::InfluencePoints[6] = {
		{ { 20.0, 45.0 },{ 20.0, 35.0 },{ 100.0, 175.0 }, 100.0, 0.01, 5.1, 0.1 },
		{ { 15.0, 25.0 },{ 10.0, 20.0 },{ 60.0, 100.0 }, 30.0, 0.005, 4.8, 0.05 },
		Vector2(5039.0, 10000.0 - 8032.0),
		1700.0 };
	Setting::InfluencePoints[7] = {
		{ { 20.0, 45.0 },{ 20.0, 35.0 },{ 100.0, 175.0 }, 100.0, 0.01, 5.1, 0.1 },
		{ { 15.0, 25.0 },{ 10.0, 20.0 },{ 60.0, 100.0 }, 30.0, 0.005, 4.8, 0.05 },
		Vector2(8153.0, 10000.0 - 6717.0),
		1550.0 };
	Setting::MaxNeighborhoodSize = 500.0;

	Random::Seed(69000);
	Object obj("Output/Lyon.obj");

	Quad(Random::NextUInt64(), Vector2(1810, 10000.0 - 20  ), Vector2(1130, 10000.0 - 2020), Vector2(3460, 10000.0 - 1930), Vector2(5440, 10000.0 - 530 )).Subdivide(obj);
	Quad(Random::NextUInt64(), Vector2(1130, 10000.0 - 2020), Vector2(1690, 10000.0 - 3580), Vector2(3190, 10000.0 - 3930), Vector2(3460, 10000.0 - 1930)).Subdivide(obj);
	Quad(Random::NextUInt64(), Vector2(1690, 10000.0 - 3580), Vector2(40,   10000.0 - 5600), Vector2(990,  10000.0 - 6490), Vector2(2410, 10000.0 - 5300)).Subdivide(obj);
	Quad(Random::NextUInt64(), Vector2(1690, 10000.0 - 3580), Vector2(3060, 10000.0 - 6800), Vector2(4310, 10000.0 - 4930), Vector2(4430, 10000.0 - 4220)).Subdivide(obj);
	Quad(Random::NextUInt64(), Vector2(3670, 10000.0 - 1990), Vector2(3390, 10000.0 - 3910), Vector2(5290, 10000.0 - 4260), Vector2(5490, 10000.0 - 2730)).Subdivide(obj);
	Quad(Random::NextUInt64(), Vector2(4600, 10000.0 - 4160), Vector2(4430, 10000.0 - 5030), Vector2(5110, 10000.0 - 5300), Vector2(5290, 10000.0 - 4260)).Subdivide(obj);
	Quad(Random::NextUInt64(), Vector2(4430, 10000.0 - 5030), Vector2(3180, 10000.0 - 6990), Vector2(3690, 10000.0 - 7470), Vector2(5110, 10000.0 - 5300)).Subdivide(obj);
	Quad(Random::NextUInt64(), Vector2(5700, 10000.0 - 2840), Vector2(5280, 10000.0 - 5300), Vector2(9460, 10000.0 - 6740), Vector2(9860, 10000.0 - 5580)).Subdivide(obj);
	Quad(Random::NextUInt64(), Vector2(5280, 10000.0 - 5300), Vector2(3930, 10000.0 - 7610), Vector2(8950, 10000.0 - 8350), Vector2(9460, 10000.0 - 6740)).Subdivide(obj);
	Quad(Random::NextUInt64(), Vector2(3930, 10000.0 - 7610), Vector2(4210, 10000.0 - 9240), Vector2(6540, 10000.0 - 9000), Vector2(6450, 10000.0 - 8020)).Subdivide(obj);

	std::cout << "Complete" << std::endl;
	getchar();

}